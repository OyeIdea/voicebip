# SIP Gateway Service (Go Implementation)

## Purpose

The SIP Gateway Service, implemented in Go, is a core component of the RevoVoiceAI Voice Gateway Layer. It acts as the primary interface for integrating with traditional telephony systems and Voice over IP (VoIP) networks using the Session Initiation Protocol (SIP). Its main responsibilities include handling SIP signaling, managing call sessions, and facilitating Real-time Transport Protocol (RTP) media streams.

This Go implementation is chosen for its performance characteristics suitable for high-concurrency network applications.

## Core Functions (Conceptual)

*   **SIP Signaling**: Listens for and processes incoming SIP messages (INVITE, ACK, BYE, REGISTER, OPTIONS, etc.).
*   **Call Management**: Establishes, maintains, and terminates call sessions.
*   **RTP Session Management**: Sets up and tears down RTP sessions for audio media, including SDP negotiation.
*   **Registration**: Can act as a SIP registrar or register with upstream providers.
*   **Routing**: Determines how incoming calls are routed to internal services (e.g., Real-Time Processing Engine).

## Components

*   `sip_gateway.go`: Contains the main `SIPGatewayService` struct and its methods for initializing the SIP stack, handling listeners, processing SIP messages, and managing RTP sessions.
*   `config.go`: (Placeholder) Intended for service-specific configurations (listen IP/port, SIP transport, provider details, codecs, RTP ports).
*   `handlers/`: (Placeholder directory) Intended for Go files containing more detailed logic for handling specific SIP methods (e.g., `invite_handler.go`).
*   *(Other Go package files might be added as development progresses.)*

## Interaction with Other System Components

The SIP Gateway Service is a critical entry and exit point for voice:

1.  **Incoming Call**:
    *   Receives SIP INVITE.
    *   Parses INVITE, negotiates SDP, establishes RTP session.
    *   Signals `StreamingDataManager` (Real-Time Processing Engine) about the new audio stream.
2.  **Outgoing Call / Response**:
    *   Receives instructions/text from Dialogue Management.
    *   If TTS response, audio is generated by `TextToSpeechService` and streamed via RTP through the session managed by this SIP Gateway.
    *   Handles SIP signaling for call maintenance or termination.

This service will integrate with Go-based SIP libraries (e.g., `github.com/ghettovoice/gosip` or others) and potentially RTP libraries to handle the underlying protocol complexities.
